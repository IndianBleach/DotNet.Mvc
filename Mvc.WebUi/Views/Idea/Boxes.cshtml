
@using Mvc.WebUi.ViewModels;
@using Mvc.ApplicationCore.DTOs.Idea;
@using Mvc.ApplicationCore.Entities.IdeaEntity;

@model IdeaBoxesViewModel;

@{
}

<div class="container d-flex">
      <div
        id="preCheckOutIdea"
        class="z-100 position-fixed container d-flex justify-content-center"
      >
        <div
          class="z-100 col-12 d-flex justify-content-center"
          id="checkOutIdea"
        >
          <!--Box detail-->
          <div
            id="boxWindow"
            class="d-none p-4 pb-3 z-100 overhide-window-lg bg-darklight"
          >
            <div class="col-12">
              <div class="z-minus position-absolute">
                <img
                src="~/media/ideaAvatars/@Model.Idea.AvatarImageName"
                  class="z-minus"
                  width="99"
                  height="77"
                  style="
                    border-radius: 6px;
                    transform: rotate(12.24deg);
                  "
                />
              </div>
              <div class="col-12 z-100">
                <div
                  class="p-3 ps-4 col-12 d-flex justify-content-between align-items-start"
                >
                <div class="d-flex">
                     <h3 id="boxDetailTitle" class="z-100 h3 text-white t-xbold">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="16"
                          height="16"
                          fill="currentColor"
                          class="bi bi-box"
                          viewBox="0 0 16 16"
                        >
                          <path
                            d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"
                          />
                        </svg>                    
                     </h3>
                    <div class="ps-2">
                        <img id="boxDetailAuthorAvatar" class="circle" height="33" width="33"/>
                        <span id="boxDetailPublish" class="ps-1 t-sm t-muted date-publ-span"></span>
                    </div>
                  </div>
                  
                  <button class="hideBoxBtn btn btn-sm">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="30"
                      height="30"
                      fill="currentColor"
                      class="text-white bi bi-x"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                      />
                    </svg>
                  </button>
                </div>
                <content>
                  <p id="boxDetailDescription" class="mb-2 t-md t-semi-bold t-muted">
                    
                  </p>
                </content>
              </div>
              <div class="col-12 mt-2">
                <div class="d-flex">
                  <h3 class="pt-1 t-lg me-3 t-bold text-white">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="t-muted bi bi-boxes"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M7.752.066a.5.5 0 0 1 .496 0l3.75 2.143a.5.5 0 0 1 .252.434v3.995l3.498 2A.5.5 0 0 1 16 9.07v4.286a.5.5 0 0 1-.252.434l-3.75 2.143a.5.5 0 0 1-.496 0l-3.502-2-3.502 2.001a.5.5 0 0 1-.496 0l-3.75-2.143A.5.5 0 0 1 0 13.357V9.071a.5.5 0 0 1 .252-.434L3.75 6.638V2.643a.5.5 0 0 1 .252-.434L7.752.066ZM4.25 7.504 1.508 9.071l2.742 1.567 2.742-1.567L4.25 7.504ZM7.5 9.933l-2.75 1.571v3.134l2.75-1.571V9.933Zm1 3.134 2.75 1.571v-3.134L8.5 9.933v3.134Zm.508-3.996 2.742 1.567 2.742-1.567-2.742-1.567-2.742 1.567Zm2.242-2.433V3.504L8.5 5.076V8.21l2.75-1.572ZM7.5 8.21V5.076L4.75 3.504v3.134L7.5 8.21ZM5.258 2.643 8 4.21l2.742-1.567L8 1.076 5.258 2.643ZM15 9.933l-2.75 1.571v3.134L15 13.067V9.933ZM3.75 14.638v-3.134L1 9.933v3.134l2.75 1.571Z"
                      />
                    </svg>
                    Goals
                  </h3>
                </div>
                <div
                  id="boxContentWrapper"
                  class="windowContentWrapper custom-scroll border-bottom mt-2 col-12"
                >
                  <!---->                  
                  <!---->
                </div>
              </div>
              <section>
                @if (Model.CurrentUserRole < IdeaMemberRoleDto.Viewer)
                {
                <div
                  class="border-top col-12 align-items-center d-flex ps-3 pe-1 pt-2 pb-2"
                >
                  <div>
                    <img
                      src=""
                      height="44"
                      width="44"
                      class="circle shadow"
                    />
                  </div>
                  <div class="p-2 pb-0 col">
                    <form data-box="" id="boxNewGoalForm" class="form-dark form-lg">
                      <div class="col">
                        <input
                          placeholder="Write comment"
                          class="form-control"
                        />
                      </div>
                      <div>
                        <button type="submit" class="btn t-bold t-md t-primary">
                          Send
                        </button>
                      </div>
                    </form>
                  </div>
                </div>
                }
                else 
                {
                 <div class="warning-window-container">
                  <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="t-muted bi bi-lock-fill" viewBox="0 0 16 16">
                    <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"/>
                  </svg>
                  <span class="ps-2 t-md t-bold t-muted">Join to this idea</span>
                </div>
                }
              </section>
            </div>
          </div>
          <!--Join-->
          <div
            id="joinWindow"
            class="d-none z-100 overhide-window-xsm bg-darklight"
          >
            <div
              class="border-bottom align-items-center p-2 ps-3 pe-0 col-12 d-flex justify-content-between"
            >
              <span class="t-md text-white t-bold">Join</span>
              <button
                class="showHideJoin btn btn-sm text-white t-sm t-semi-bold"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="26"
                  height="26"
                  fill="currentColor"
                  class="bi bi-x"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                  />
                </svg>
              </button>
            </div>
            <div class="col-12 ps-3 p-2">
              <div
                class="p-5 d-flex col-12 justify-content-center align-items-center"
              >
                <div class="d-flex">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="46"
                    height="46"
                    fill="currentColor"
                    class="t-muted bi bi-reply"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M6.598 5.013a.144.144 0 0 1 .202.134V6.3a.5.5 0 0 0 .5.5c.667 0 2.013.005 3.3.822.984.624 1.99 1.76 2.595 3.876-1.02-.983-2.185-1.516-3.205-1.799a8.74 8.74 0 0 0-1.921-.306 7.404 7.404 0 0 0-.798.008h-.013l-.005.001h-.001L7.3 9.9l-.05-.498a.5.5 0 0 0-.45.498v1.153c0 .108-.11.176-.202.134L2.614 8.254a.503.503 0 0 0-.042-.028.147.147 0 0 1 0-.252.499.499 0 0 0 .042-.028l3.984-2.933zM7.8 10.386c.068 0 .143.003.223.006.434.02 1.034.086 1.7.271 1.326.368 2.896 1.202 3.94 3.08a.5.5 0 0 0 .933-.305c-.464-3.71-1.886-5.662-3.46-6.66-1.245-.79-2.527-.942-3.336-.971v-.66a1.144 1.144 0 0 0-1.767-.96l-3.994 2.94a1.147 1.147 0 0 0 0 1.946l3.994 2.94a1.144 1.144 0 0 0 1.767-.96v-.667z"
                    />
                  </svg>
                  <p
                    style="width: 170px;"
                    class="ps-2 t-md t-semi-bold text-white"
                  >
                    Join idea
                    <br />
                    <span class="t-muted t-sm t-medium"
                      >Join the idea, develop, communicate, fulfill goals</span
                    >
                  </p>
                </div>
              </div>
              <div class="ps-4 pe-4">
                <form>
                  <div class="mb-2">
                    <textarea
                      style="resize: none; height: 66px;"
                      class="radius-lg bg-dark border text-white t-md t-semi-bold form-control me-0 pe-1"
                      placeholder="Write how you can help"
                      aria-label="Search"
                    ></textarea>
                  </div>

                  <div class="border-top pb-4 pt-3 mt-4 col-12 text-center">
                    <button class="btn t-bold t-primary">Send</button>
                    <div class="t-sm t-muted t-medium">
                      Idea modders will accept your request
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <!--Settings general-->
          <div
            id="settingsGeneralWindow"
            class="d-none overhide-window-sm bg-darklight"
          >
            <div
              class="border-bottom align-items-center p-2 ps-3 pe-0 col-12 d-flex justify-content-between"
            >
              <span class="t-md text-white t-bold">Settings</span>
              <button
                class="showHideGeneralSettings btn btn-sm text-white t-sm t-semi-bold"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="26"
                  height="26"
                  fill="currentColor"
                  class="bi bi-x"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                  />
                </svg>
              </button>
            </div>
            <div class="col-12 ps-3 p-2">
              <div
                class="p-5 d-flex col-12 justify-content-center align-items-center"
              >
                <div class="d-flex">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="44"
                    height="44"
                    fill="currentColor"
                    class="t-muted bi bi-gear"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"
                    />
                    <path
                      d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"
                    />
                  </svg>
                  <p class="ps-2 t-md t-semi-bold text-white">
                    General
                    <br />
                    <span class="t-muted t-sm t-medium"
                      >Update idea information</span
                    >
                  </p>
                </div>
              </div>
              <div class="pb-3 ps-4 pe-4">
                <form>
                  <div class="mb-2">
                    <textarea
                      style="resize: none; height: 66px;"
                      class="radius-lg bg-dark border text-white t-md t-semi-bold form-control me-0 pe-1"
                      placeholder="Title"
                      aria-label="Search"
                    ></textarea>
                  </div>
                  <div class="mb-2">
                    <select
                      class="form-select border radius-lg bg-dark t-muted t-md t-semi-bold form-control me-0 pe-1"
                      aria-label="Default select example"
                      multiple
                    >
                      <option class="t-semi-bold" value="1">One</option>
                      <option class="t-semi-bold" value="1">One</option>
                    </select>
                    <span class="t-sm t-medium t-muted">Choice some taghs</span>
                  </div>
                  <div class="mb-2 mt-3 form-check">
                    <input
                      class="bg-dark form-check-input"
                      type="checkbox"
                      value=""
                      id="flexCheckDefault"
                    />
                    <span>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="22"
                        height="22"
                        fill="currentColor"
                        class="t-muted bi bi-lock"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z"
                        />
                      </svg>
                    </span>
                    <label
                      class="text-white t-md t-semi-bold form-check-label"
                      for="flexCheckDefault"
                    >
                      Security idea
                    </label>
                    <br />
                    <span class="t-sm t-medium t-muted">Choice some taghs</span>
                  </div>
                  <div class="border-top pt-3 mt-4 col-12 text-center">
                    <button class="btn t-bold t-primary">Save changes</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <!--Settings Modders-->
          <div
            id="settingsModdersWindow"
            class="d-none overhide-window-sm bg-darklight"
          >
            <div
              class="border-bottom align-items-center p-2 ps-3 pe-0 col-12 d-flex justify-content-between"
            >
              <span class="t-md text-white t-bold">Settings</span>
              <button
                class="showHideSettingsModders btn btn-sm text-white t-sm t-semi-bold"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="26"
                  height="26"
                  fill="currentColor"
                  class="bi bi-x"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                  />
                </svg>
              </button>
            </div>
            <div
              class="p-5 d-flex col-12 justify-content-center align-items-center"
            >
              <div class="d-flex">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="44"
                  height="44"
                  fill="currentColor"
                  class="t-muted bi bi-people"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"
                  />
                </svg>
                <p class="ps-2 t-md t-semi-bold text-white">
                  Modders & members
                  <br />
                  <span class="t-muted t-sm t-medium">Cick and modders</span>
                </p>
              </div>
            </div>
            <div style="height: 535px;" class="col-12 p-3 pt-0">
              <div
                class="mb-2 d-flex align-items-center justify-content-between"
              >
                <a>
                  <img src="" height="33" width="33" class="circle" />
                  <span class="t-md t-semi-bold text-white ps-1">
                    чЧBBbebra
                  </span>
                </a>
                <div class="d-flex">
                  <a class="icon-link me-1 t-muted t-semi-bold t-sm">
                    To modders
                  </a>
                  <a class="icon-link text-muted t-semi-bold t-sm">
                    Cick
                  </a>
                </div>
              </div>
            </div>
          </div>
          <!--settings create topic-->
          <div
            id="settingsCreateTopicWindow"
            class="d-none overhide-window-sm bg-darklight"
          >
            <div
              class="border-bottom align-items-center p-2 ps-3 pe-0 col-12 d-flex justify-content-between"
            >
              <span class="t-md text-white t-bold">Settings</span>
              <button
                class="showHideCreateTopic btn btn-sm text-white t-sm t-semi-bold"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="26"
                  height="26"
                  fill="currentColor"
                  class="bi bi-x"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                  />
                </svg>
              </button>
            </div>
            <div class="col-12 ps-3 p-2">
              <div
                class="p-5 d-flex col-12 justify-content-center align-items-center"
              >
                <div class="d-flex">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="44"
                    height="44"
                    fill="currentColor"
                    class="t-muted bi bi-journal-bookmark-fill"
                    viewBox="0 0 16 16"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M6 1h6v7a.5.5 0 0 1-.757.429L9 7.083 6.757 8.43A.5.5 0 0 1 6 8V1z"
                    />
                    <path
                      d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z"
                    />
                    <path
                      d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z"
                    />
                  </svg>
                  <p class="ps-2 t-md t-semi-bold text-white">
                    Add new topic
                    <br />
                    <span class="t-muted t-sm t-medium"
                      >Update idea information</span
                    >
                  </p>
                </div>
              </div>
              <div class="pb-3 ps-4 pe-4">
                <form>
                  <div class="mb-2">
                    <input
                      class="form-control radius-lg bg-dark border text-white t-md t-semi-bold form-control me-0 pe-1"
                      placeholder="Title"
                    />
                  </div>
                  <div class="mb-2">
                    <textarea
                      style="resize: none; height: 66px;"
                      class="radius-lg bg-dark border text-white t-md t-semi-bold form-control me-0 pe-1"
                      placeholder="Description"
                      aria-label="Search"
                    ></textarea>
                  </div>

                  <div class="border-top pt-3 mt-4 col-12 text-center">
                    <button class="btn t-bold t-primary">Create topic</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <!--Settings Remove idea-->
          <div
            id="settingsRemoveIdeaWindow"
            class="d-none overhide-window-xsm bg-darklight"
          >
            <div
              class="border-bottom align-items-center p-2 ps-3 pe-0 col-12 d-flex justify-content-between"
            >
              <span class="t-md text-white t-bold">Settings</span>
              <button
                class="showHideRemoveIdea btn btn-sm text-white t-sm t-semi-bold"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="26"
                  height="26"
                  fill="currentColor"
                  class="bi bi-x"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                  />
                </svg>
              </button>
            </div>
            <div class="col-12 ps-3 p-2">
              <div
                class="p-5 d-flex col-12 justify-content-center align-items-center"
              >
                <div class="d-flex align-items-center">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="44"
                    height="44"
                    fill="currentColor"
                    class="t-muted bi bi-recycle"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M9.302 1.256a1.5 1.5 0 0 0-2.604 0l-1.704 2.98a.5.5 0 0 0 .869.497l1.703-2.981a.5.5 0 0 1 .868 0l2.54 4.444-1.256-.337a.5.5 0 1 0-.26.966l2.415.647a.5.5 0 0 0 .613-.353l.647-2.415a.5.5 0 1 0-.966-.259l-.333 1.242-2.532-4.431zM2.973 7.773l-1.255.337a.5.5 0 1 1-.26-.966l2.416-.647a.5.5 0 0 1 .612.353l.647 2.415a.5.5 0 0 1-.966.259l-.333-1.242-2.545 4.454a.5.5 0 0 0 .434.748H5a.5.5 0 0 1 0 1H1.723A1.5 1.5 0 0 1 .421 12.24l2.552-4.467zm10.89 1.463a.5.5 0 1 0-.868.496l1.716 3.004a.5.5 0 0 1-.434.748h-5.57l.647-.646a.5.5 0 1 0-.708-.707l-1.5 1.5a.498.498 0 0 0 0 .707l1.5 1.5a.5.5 0 1 0 .708-.707l-.647-.647h5.57a1.5 1.5 0 0 0 1.302-2.244l-1.716-3.004z"
                    />
                  </svg>
                  <p class="ps-2 mb-0 t-md t-semi-bold text-white">
                    Remove idea
                  </p>
                </div>
              </div>
              <div class="pb-3 ps-4 pe-4">
                <form>
                  <div class="mb-2">
                    <input
                      type="password"
                      class="form-control radius-lg bg-dark border text-white t-md t-semi-bold form-control me-0 pe-1"
                      placeholder="Your password"
                    />
                    <span class="t-sm t-medium t-muted"
                      >Enter password to confirm delete</span
                    >
                  </div>
                  <div class="border-top pt-3 mt-4 col-12 text-center">
                    <button class="btn t-bold text-danger">Remove</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <!--Create box-->
          <div
          id="createBoxWindow"
          class="d-none overhide-window-sm bg-darklight"
        >
          <div
            class="border-bottom align-items-center p-2 ps-3 pe-0 col-12 d-flex justify-content-between"
          >
            <span class="t-md text-white t-bold">Create box</span>
            <button
              class="showHideCreateBox btn btn-sm text-white t-sm t-semi-bold"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="26"
                height="26"
                fill="currentColor"
                class="bi bi-x"
                viewBox="0 0 16 16"
              >
                <path
                  d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                />
              </svg>
            </button>
          </div>
          <div class="col-12 ps-3 p-2">
            <div
              class="p-4 col-12 d-flex justify-content-center align-items-center"
            >
              <div>
                <div class="d-flex justify-content-center">
                  <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" fill="currentColor" class="t-muted bi bi-box" viewBox="0 0 16 16">
                    <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"/>
                  </svg>                
                <img
                    src="~/media/userAvatars/@User.Claims.Where(x => x.Type.Equals("AvatarImageName")).Select(x => x.Value).SingleOrDefault()"
                    class="ms-1 circle shadow border"
                    height="44"
                    width="44"
                  />
              </div>  
              <p class="pt-3 text-center t-md t-semi-bold text-white">
                Create new goal Box                              
              </p> 
              </div>           
            </div>
            <div class="pb-3 ps-4 pe-4">
              <form id="formCreateBox2" asp-action="createBox" asp-controller="idea" data-idea="@Model.Idea.Guid">
                  <input hidden value="@Model.Idea.Guid" name="ideaGuid"/>
                <div class="mb-2">
                  <input
                    class="upd-form-input form-control me-0 pe-1"
                    placeholder="Title"
                    name="title"
                  />
                </div>
                <div class="mb-2">
                  <textarea
                  name="description"
                    style="resize: none; height: 66px;"
                    class="upd-form-textarea form-control me-0 pe-1"
                    placeholder="Description"
                    aria-label="Search"
                  ></textarea>
                </div>
                <div class="mb-2 mt-3 form-check">
                    <input
                        name="isAuthored"
                      class="bg-dark form-check-input"
                      type="checkbox"
                      value="true"
                      id="flexCheckDefault"
                    />
                    <span>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="22"
                        height="22"
                        fill="currentColor"
                        class="t-muted bi bi-lock"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z"
                        />
                      </svg>
                    </span>
                    <label
                      class="text-white t-md t-semi-bold form-check-label"
                      for="flexCheckDefault"
                    >
                      Authored box
                    </label>
                    <br />
                    <span class="t-sm t-medium t-muted">Only you can edit this box</span>
                  </div>
                <div class="border-top pt-3 col-12 text-center">
                      <button  type="submit" class=" icon-link-btn">Create box</button>
                 </div>
              </form>
            </div>
          </div>
          </div>
        </div>
      </div>
      <div class="col-9">
        <main>
          <div class="col-12">
            <div class="col-12 mt-1 ps-3 pe-3">
              <section>
                <div class="col-12 mb-3">
                  <div
                    style="
                      background: linear-gradient(
                          0deg,
                          rgba(0, 0, 0, 0.33),
                          rgba(0, 0, 0, 0.33)
                        ),
                        url(../media/ideaAvatars/@Model.Idea.AvatarImageName);
                      border-radius: 6px;
                    "
                    class="d-flex align-items-end idea-post bg-light"
                  >
                    <div class="pb-4 ps-4 pe-4 text-break col-12">
                      <div style="margin-bottom: 106px;" class="text-break">
                        <content>
                          <header>
                            <h1 class="mb-0 h1 t-xbold text-white t-shadow">
                              @Model.Idea.Title
                            </h1>
                          </header>
                          <p
                            class="mb-1 col-10 t-semi-bold t-muted t-shadow d-inline-block text-truncate"
                          >
                            Moderate by
                          </p>
                          <div class="d-flex flex-wrap col-10">
                            @foreach(var modder in Model.Idea.Modders)
                            {
                             <div>
                                <a asp-action="@modder.Guid" asp-controller="user">
                                <img
                                    src="~/media/userAvatars/@modder.AvatarImageName"
                                    width="44"
                                    height="44"
                                    class="shadow circle"
                                  />
                                </a>
                            </div>
                            }
                          </div>
                        </content>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
              <!---->
              <nav>
                <div class="pe-2 ps-2 mb-3 mt-3 col-12 d-flex">
                  <a asp-action="@Model.Idea.Guid" asp-controller="idea" class="ideaSectionLink me-3">
                    <span class="pe-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        fill="currentColor"
                        class="t-muted bi bi-info-circle"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
                        />
                        <path
                          d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"
                        />
                      </svg>
                    </span>
                    About
                  </a>
                  <a asp-action="@Model.Idea.Guid" asp-controller="idea" asp-route-section="goals" class="ideaSectionLink me-3 ideaSectionLink-active">
                    <span class="pe-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        fill="currentColor"
                        class="t-muted bi bi-boxes"
                        viewBox="0 0 16 16"
                      >
                        <path
                          fill-rule="evenodd"
                          d="M7.752.066a.5.5 0 0 1 .496 0l3.75 2.143a.5.5 0 0 1 .252.434v3.995l3.498 2A.5.5 0 0 1 16 9.07v4.286a.5.5 0 0 1-.252.434l-3.75 2.143a.5.5 0 0 1-.496 0l-3.502-2-3.502 2.001a.5.5 0 0 1-.496 0l-3.75-2.143A.5.5 0 0 1 0 13.357V9.071a.5.5 0 0 1 .252-.434L3.75 6.638V2.643a.5.5 0 0 1 .252-.434L7.752.066ZM4.25 7.504 1.508 9.071l2.742 1.567 2.742-1.567L4.25 7.504ZM7.5 9.933l-2.75 1.571v3.134l2.75-1.571V9.933Zm1 3.134 2.75 1.571v-3.134L8.5 9.933v3.134Zm.508-3.996 2.742 1.567 2.742-1.567-2.742-1.567-2.742 1.567Zm2.242-2.433V3.504L8.5 5.076V8.21l2.75-1.572ZM7.5 8.21V5.076L4.75 3.504v3.134L7.5 8.21ZM5.258 2.643 8 4.21l2.742-1.567L8 1.076 5.258 2.643ZM15 9.933l-2.75 1.571v3.134L15 13.067V9.933ZM3.75 14.638v-3.134L1 9.933v3.134l2.75 1.571Z"
                        />
                      </svg>
                    </span>
                    Goals
                  </a>
                  <a asp-action="@Model.Idea.Guid" asp-controller="idea" asp-route-section="members" class="ideaSectionLink me-3">
                    <span class="pe-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        fill="currentColor"
                        class="t-muted bi bi-people"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"
                        />
                      </svg>
                    </span>
                    Members
                  </a>
                  @if (Model.CurrentUserRole.Equals(IdeaMemberRoleDto.Author))
                  {
                    <div class="ms-auto dropdown pt-2">
                    <a
                      id="dropdownMenuLink3"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                      class="dropdown-toggle ideaSectionLink ms-auto"
                    >
                      <span class="pe-1">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="16"
                          height="16"
                          fill="currentColor"
                          class="t-muted bi bi-sliders"
                          viewBox="0 0 16 16"
                        >
                          <path
                            fill-rule="evenodd"
                            d="M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z"
                          />
                        </svg>
                      </span>
                      Settings
                    </a>

                    <ul
                      class="border dropdown-menu p-0 t-sm t-semi-bold"
                      aria-labelledby="dropdownMenuLink3"
                    >
                      <li>
                        <a
                          class="showHideGeneralSettings dropdown-item t-light"
                          href="#"
                          >General settings</a
                        >
                      </li>
                      <li><hr class="p-0 m-0 dropdown-divider t-light" /></li>
                      <li>
                        <a
                            data-idea="@Model.Idea.Guid"
                            id="showSettingsModders"
                          class="dropdown-item t-light"
                          href="#"
                          >Modders & Members</a
                        >
                      </li>
                      <li><hr class="p-0 m-0 dropdown-divider t-light" /></li>
                      <li>
                        <a
                          class="showHideCreateTopic dropdown-item t-light"
                          href="#"
                          >Add new topic</a
                        >
                      </li>
                      <li><hr class="p-0 m-0 dropdown-divider t-light" /></li>
                      <li>
                        <a
                          class="showHideRemoveIdea dropdown-item t-light"
                          href="#"
                          >Remove idea</a
                        >
                      </li>
                    </ul>
                  </div>
                  }
                </div>
              </nav>
              <!---->
              <div class="mt-4 col-12">
                @if (Model.CurrentUserRole < IdeaMemberRoleDto.Viewer)
                {
                   <section>
                      <div
                        class="bg-dark border justify-content-between align-items-center p-3 ps-4 pe-4 radius-lg mb-4 col-12 d-flex"
                      >
                        <div>
                          <h3 class="text-white t-lg t-semi-bold">Create goal box</h3>
                          <p class="mb-0 t-muted t-md">Add idea goals</p>
                        </div>
                        <div>
                          <a class="showHideCreateBox icon-link-btn">Create box</a>
                        </div>
                      </div>
                 </section>
                }
                else
                {
                <section>
                   <div class="bg-dark border justify-content-between align-items-center p-3 ps-4 pe-4 radius-lg mb-4 col-12 d-flex">
                    <div>
                      <h3 class="text-white t-lg t-semi-bold">Join to this idea</h3>
                      <p class="mb-0 t-muted t-md">Leave comments, create topics and goals</p>
                    </div>
                    <div>
                      <svg xmlns="http://www.w3.org/2000/svg" width="33" height="33" fill="currentColor" class="t-muted bi bi-lock-fill" viewBox="0 0 16 16">
                        <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"/>
                      </svg>
                    </div>
                  </div>
                 </section>
                }
                <div class="mb-5 ps-2 col-12">
                  @foreach(var item in Model.IdeaBoxes)
                  {
                    <section>
                      <div class="ideaTopicLink mb-4 col-12 d-flex">
                    <div class="pt-1">
                      <a asp-action="@item.AuthorGuid" asp-controller="user"
                        ><img
                          src="/media/userAvatars/@item.AuthorAvatarImageName"
                          class="border circle shadow"
                          height="44"
                          width="44"
                      /></a>
                    </div>
                    <div class="ps-3 col">
                       <a onclick="showBoxBtn('@item.Guid')">
                          <div class="col-8">                        
                              <h3 class="h3 text-white t-xbold">
                                <svg
                                  xmlns="http://www.w3.org/2000/svg"
                                  width="22"
                                  height="22"
                                  fill="currentColor"
                                  class="bi bi-box"
                                  viewBox="0 0 16 16"
                                >
                                  <path
                                    d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"
                                  />
                                </svg>
                                @item.Title
                              </h3>                          
                          </div>
                          <p
                            class="mb-0 col-6 col-xl-8 t-bold t-muted t-shadow d-inline-block text-truncate"
                          >
                            @item.Description
                          </p>
                          <div class="col-12 d-flex align-items-center">
                            <div class="ms-2">
                              <span class="text-white t-lg t-semi-bold">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="t-muted bi bi-boxes" viewBox="0 0 16 16">
                                  <path d="M7.752.066a.5.5 0 0 1 .496 0l3.75 2.143a.5.5 0 0 1 .252.434v3.995l3.498 2A.5.5 0 0 1 16 9.07v4.286a.5.5 0 0 1-.252.434l-3.75 2.143a.5.5 0 0 1-.496 0l-3.502-2-3.502 2.001a.5.5 0 0 1-.496 0l-3.75-2.143A.5.5 0 0 1 0 13.357V9.071a.5.5 0 0 1 .252-.434L3.75 6.638V2.643a.5.5 0 0 1 .252-.434L7.752.066ZM4.25 7.504 1.508 9.071l2.742 1.567 2.742-1.567L4.25 7.504ZM7.5 9.933l-2.75 1.571v3.134l2.75-1.571V9.933Zm1 3.134 2.75 1.571v-3.134L8.5 9.933v3.134Zm.508-3.996 2.742 1.567 2.742-1.567-2.742-1.567-2.742 1.567Zm2.242-2.433V3.504L8.5 5.076V8.21l2.75-1.572ZM7.5 8.21V5.076L4.75 3.504v3.134L7.5 8.21ZM5.258 2.643 8 4.21l2.742-1.567L8 1.076 5.258 2.643ZM15 9.933l-2.75 1.571v3.134L15 13.067V9.933ZM3.75 14.638v-3.134L1 9.933v3.134l2.75 1.571Z"/>
                                </svg>
                                @item.GoalsCount
                              </span>
                            </div>
                          </div>
                      </a>
                    </div>
                  </div>
                  </section>
                  }
                  
                </div>
                <div class="d-flex">
                  <div class="me-1">
                    <button class="btn text-white t-md t-semi-bold border">
                      1
                    </button>
                  </div>
                  <div class="me-1">
                    <button class="btn text-white t-md t-semi-bold border">
                      2
                    </button>
                  </div>
                  <div class="me-1">
                    <button class="btn text-white t-md t-semi-bold border">
                      3
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </main>
      </div>
      <div class="ps-3 pt-4 col position-relative">
        <div class="position-fixed">
          <aside>
            <div class="col-12 pt-2">
              <h3 class="t-lg t-bold t-muted">Status</h3>
              <div class="ps-1 col-12 text-break">
                <span class="t-md t-bold text-white">@Model.Idea.Status.Title</span>
                <p style="width:220px;" class="mb-1 t-md t-medium t-muted">
                  <em>
                    @Model.Idea.Status.Description
                  </em>
                </p>
              </div>
            </div>
            <div class="col-12 pt-2 mt-4">
              <h3 class="t-lg t-bold t-muted">Tags</h3>
              <div class="ps-1 col-12 d-flex flex-wrap">
                @foreach(var tag in Model.Idea.Tags)
                {
                    <div class="t-tag">
                        <span>@tag.Name</span>
                    </div>
                }                
              </div>
            </div>
            <div class="col-12 pt-2 mt-4 mb-4">
              @switch(Model.CurrentUserRole)
              {
                case IdeaMemberRoleDto.Author:
                   <h3 class="t-lg t-bold t-muted">Your are Author</h3>
                    <div class="ps-1 pt-2">
                        <a class="showHideJoin icon-link-btn">Join idea</a>
                    </div>         
                break;

                case IdeaMemberRoleDto.Modder:
                   <h3 class="t-lg t-bold t-muted">Your are Modder</h3>
                    <div class="ps-1 pt-2">
                        <a class="showHideJoin icon-link-btn">Join idea</a>
                    </div>         
                break;

                default:                
                   <h3 class="t-lg t-bold t-muted">Do you wont to help?</h3>
                    <div class="ps-1 pt-2">
                        <a class="showHideJoin icon-link-btn">Join idea</a>
                    </div>         
                break;
              }
            </div>
            <div class="mt-3">
              <hr class="t-muted" />
            </div>
            <div class="col-12 pt-2 mt-3">
              <h3 class="t-lg t-bold t-muted">Similar ideas</h3>
              <div style="max-width: 180px;" class="ps-1 pt-3 d-flex flex-wrap">
                <div class="rotate-idea-card-wrap position-relative">
                  <a href="./">
                    <div class="shadow position-absolute rotate-idea-card">
                      <img src="#" />
                    </div>
                  </a>
                </div>
              </div>
            </div>
          </aside>
        </div>
      </div>
    </div>

    @section Scripts {
        <script type="text/javascript" src="~/js/idea/idea.js"></script>
    }