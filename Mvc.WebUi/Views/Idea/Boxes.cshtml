
@using Mvc.WebUi.ViewModels;
@using Mvc.ApplicationCore.DTOs.Idea;
@using Mvc.ApplicationCore.Entities.IdeaEntity;

@model IdeaBoxesViewModel;

@{
}

<div class="mt-3 container d-flex">
      <div
        id="preCheckOutIdea"
        class="z-100 position-fixed container d-flex justify-content-center"
      >
        <div
          class="z-100 col-12 d-flex justify-content-center"
          id="checkOutIdea"
        >
          <!--Box detail-->
          <div
            id="boxWindow"
            class="d-none p-4 pb-3 z-100 overhide-window-lg bg-darklight"
          >
            <div class="col-12">
              <div class="z-minus position-absolute">
                <img
                src="~/media/ideaAvatars/@Model.Idea.AvatarImageName"
                  class="z-minus"
                  width="99"
                  height="77"
                  style="
                    border-radius: 6px;
                    transform: rotate(12.24deg);
                  "
                />
              </div>
              <div class="col-12 z-100">
                <div
                  class="p-3 ps-4 col-12 d-flex justify-content-between align-items-start"
                >
                <div class="d-flex">
                     <h3 id="boxDetailTitle" class="z-100 h3 text-white t-xbold">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="16"
                          height="16"
                          fill="currentColor"
                          class="bi bi-box"
                          viewBox="0 0 16 16"
                        >
                          <path
                            d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"
                          />
                        </svg>                    
                     </h3>
                    <div class="ps-2">
                        <img id="boxDetailAuthorAvatar" class="circle" height="33" width="33"/>
                        <span id="boxDetailPublish" class="ps-1 t-sm t-muted date-publ-span"></span>
                    </div>
                  </div>
                  
                  <button class="hideBoxBtn btn btn-sm">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="30"
                      height="30"
                      fill="currentColor"
                      class="text-white bi bi-x"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                      />
                    </svg>
                  </button>
                </div>
                <content>
                  <p id="boxDetailDescription" class="mb-2 t-md t-semi-bold t-muted">
                    
                  </p>
                </content>
              </div>
              <div class="col-12 mt-2">
                <div class="d-flex">
                  <h3 class="pt-1 t-lg me-3 t-bold text-white">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="t-muted bi bi-boxes"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M7.752.066a.5.5 0 0 1 .496 0l3.75 2.143a.5.5 0 0 1 .252.434v3.995l3.498 2A.5.5 0 0 1 16 9.07v4.286a.5.5 0 0 1-.252.434l-3.75 2.143a.5.5 0 0 1-.496 0l-3.502-2-3.502 2.001a.5.5 0 0 1-.496 0l-3.75-2.143A.5.5 0 0 1 0 13.357V9.071a.5.5 0 0 1 .252-.434L3.75 6.638V2.643a.5.5 0 0 1 .252-.434L7.752.066ZM4.25 7.504 1.508 9.071l2.742 1.567 2.742-1.567L4.25 7.504ZM7.5 9.933l-2.75 1.571v3.134l2.75-1.571V9.933Zm1 3.134 2.75 1.571v-3.134L8.5 9.933v3.134Zm.508-3.996 2.742 1.567 2.742-1.567-2.742-1.567-2.742 1.567Zm2.242-2.433V3.504L8.5 5.076V8.21l2.75-1.572ZM7.5 8.21V5.076L4.75 3.504v3.134L7.5 8.21ZM5.258 2.643 8 4.21l2.742-1.567L8 1.076 5.258 2.643ZM15 9.933l-2.75 1.571v3.134L15 13.067V9.933ZM3.75 14.638v-3.134L1 9.933v3.134l2.75 1.571Z"
                      />
                    </svg>
                    Goals
                  </h3>
                </div>
                <div
                  id="boxContentWrapper"
                  class="windowContentWrapper custom-scroll border-bottom mt-2 col-12"
                >
                  <!---->                  
                  <!---->
                </div>
              </div>
              <section>
                @if (Model.CurrentUserRole < IdeaMemberRoleDto.Viewer)
                {
                <div
                  class="border-top col-12 align-items-center d-flex ps-3 pe-1 pt-2 pb-2"
                >
                  <div>
                    <img
                      src=""
                      height="44"
                      width="44"
                      class="circle shadow"
                    />
                  </div>
                  <div class="p-2 pb-0 col">
                    <form data-box="" id="boxNewGoalForm" class="form-dark form-lg">
                      <div class="col">
                        <input
                          placeholder="Goal description"
                          class="form-control"
                        />
                      </div>
                      <div>
                        <button type="submit" class="btn t-bold t-md t-primary">
                          Create
                        </button>
                      </div>
                    </form>
                  </div>
                </div>
                }
                else 
                {
                 <div class="warning-window-container">
                  <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="t-muted bi bi-lock-fill" viewBox="0 0 16 16">
                    <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"/>
                  </svg>
                  <span class="ps-2 t-md t-bold t-muted">Join to this idea</span>
                </div>
                }
              </section>
            </div>
          </div>
          <!--JOIN-->
          <div
            id="joinWindow"
            class="d-none z-100 overhide-window-xsm bg-darklight"
          >
            <div
              class="border-bottom align-items-center p-2 ps-3 pe-0 col-12 d-flex justify-content-between"
            >
              <span class="t-md text-white t-bold">Join</span>
              <button
                class="showHideJoin btn btn-sm text-white t-sm t-semi-bold"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="26"
                  height="26"
                  fill="currentColor"
                  class="bi bi-x"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                  />
                </svg>
              </button>
            </div>
            <div class="col-12 ps-3 p-2">
              <div
                class="p-5 d-flex col-12 justify-content-center align-items-center"
              >
                <div class="">
                  <div class="d-flex justify-content-center">
                      <svg xmlns="http://www.w3.org/2000/svg" width="46" height="46" fill="currentColor" class="t-muted bi bi-send-plus" viewBox="0 0 16 16">
                        <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855a.75.75 0 0 0-.124 1.329l4.995 3.178 1.531 2.406a.5.5 0 0 0 .844-.536L6.637 10.07l7.494-7.494-1.895 4.738a.5.5 0 1 0 .928.372l2.8-7Zm-2.54 1.183L5.93 9.363 1.591 6.602l11.833-4.733Z"/>
                        <path d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm-3.5-2a.5.5 0 0 0-.5.5v1h-1a.5.5 0 0 0 0 1h1v1a.5.5 0 0 0 1 0v-1h1a.5.5 0 0 0 0-1h-1v-1a.5.5 0 0 0-.5-.5Z"/>
                      </svg>
                     <img src="~/media/userAvatars/@User.Claims.Where(x => x.Type.Equals("AvatarImageName")).Select(x => x.Value).SingleOrDefault()" height="44" width="44" class="circle shadow"/>
                  </div>
                  <p
                    style="width: 150px;"
                    class="text-center pt-3 ps-2 t-md t-semi-bold text-white"
                  >
                    Send join request to idea modders
                  </p>
                </div>
              </div>
              <div class="ps-4 pe-4">
                <form id="joinRequestForm">
                    <input hidden value="@Model.Idea.Guid"/>
                  <div class="mb-2">
                    <textarea
                      style="resize: none; height: 66px;"
                      class="upd-form-input form-control me-0 pe-1"
                      placeholder="Write how you can help"
                      aria-label="Search"
                    ></textarea>
                    <span class="t-medium t-sm t-muted">Idea modders will accept your invite</span>
                  </div>
                  <div class="border-top pt-3 pb-3 col-12 text-center">
                    <button type="submit" class="icon-link-btn">Send request</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <!---->
          @if (Model.CurrentUserRole.Equals(IdeaMemberRoleDto.Author))
          {
          <!--GENERAL-->
          <div
            id="settingsGeneralWindow"
            class="d-none overhide-window-sm bg-darklight"
          >
            <div
              class="border-bottom align-items-center p-2 ps-3 pe-0 col-12 d-flex justify-content-between"
            >
              <span class="t-md text-white t-bold">Settings</span>
              <button
                class="showHideGeneralSettings btn btn-sm text-white t-sm t-semi-bold"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="26"
                  height="26"
                  fill="currentColor"
                  class="bi bi-x"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                  />
                </svg>
              </button>
            </div>
            <div class="col-12 ps-3 p-2">
              <div
              class="p-5 d-flex col-12 justify-content-center align-items-center"
            >
              <div class="">
                  <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" fill="currentColor" class="text-muted bi bi-sliders" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z"/>
                  </svg>                                
              </div>
            </div>
              <div class="pb-3 ps-4 pe-4">
                <form enctype="multipart/form-data" asp-action="updateIdeaSettings" asp-controller="idea" asp-antiforgery="true">
                    <input hidden value="@Model.Idea.Guid" name="ideaGuid"/>
                  <div class="mb-3 mt-2 d-flex justify-content-center col-12">                    
                    <div class="d-flex col-12 p-2 upd-dark border radius-md">
                        <div>
                            <input name="avatar" style="background-image: url('/media/ideaAvatars/@Model.Idea.AvatarImageName');" class="upd-form-avatar-square form-control" type="file" id="formFile">
                          </div>
                          <div class="ms-2 text-center overflow-hidden pt-3">
                              <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-image" viewBox="0 0 16 16">
                                <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                                <path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"/>
                              </svg>
                            <span id="avatarPreRenderName" class=" t-md t-medium t-muted">Change avatar</span>
                          </div>
                    </div>
                  </div>
                  <div class="mb-2">
                      <select
                      name="status"
                      class="upd-form-select form-select border radius-lg bg-dark t-muted t-md t-semi-bold form-control me-0 pe-1"
                      aria-label="Default select example"                      
                    >
                      <option class="t-medium" value="1">Find members</option>
                      <option class="t-medium" value="2">Development</option>
                      <option class="t-medium" value="0">Complete</option>
                    </select>
                    <span class="t-sm t-medium t-muted">Change idea status</span>
                  </div>
                  <div class="mb-2">
                    <textarea
                        name="description"
                      class="upd-form-textarea form-control me-0 pe-1"
                      placeholder="Idea description"
                      aria-label="Search"
                    ></textarea>
                  </div>                  
                  <div class="mb-2 mt-3 form-check">
                    <input
                        name="isSecurity"
                      class="upd-dark form-check-input"
                      type="checkbox"
                      value="true"
                      id="flexCheckDefault"
                    />
                    <span>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="22"
                        height="22"
                        fill="currentColor"
                        class="t-muted bi bi-lock"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z"
                        />
                      </svg>
                    </span>
                    <label
                      class="text-white t-md t-semi-bold form-check-label"
                      for="flexCheckDefault"
                    >
                      Security idea
                    </label>
                    <br />
                    <span class="t-sm t-medium t-muted">Choice some taghs</span>
                  </div>
                  <div class="border-top pt-3 col-12 text-center">
                      <button type="submit" class="icon-link-btn">Save changes</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <!---->
          <!--MODDERS -->
          <div
            id="settingsModdersWindow"
            class="d-none overhide-window-sm bg-darklight"
          >
            <div
              class="border-bottom align-items-center p-2 ps-3 pe-0 col-12 d-flex justify-content-between"
            >
              <span class="t-md text-white t-bold">Settings</span>
              <button
                id="hideSettingsModders"
                class="btn btn-sm text-white t-sm t-semi-bold"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="26"
                  height="26"
                  fill="currentColor"
                  class="bi bi-x"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                  />
                </svg>
              </button>
            </div>
            <div
              class="p-5 d-flex col-12 justify-content-center align-items-center"
            >
              <div class="">
                <div>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="44"
                    height="44"
                    fill="currentColor"
                    class="t-muted bi bi-people"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"
                    />
                  </svg>
                  <img
                    src="~/media/ideaAvatars/@Model.Idea.AvatarImageName"
                    height="44"
                    width="77"
                    class="ms-1 radius-md shadow"
                  />
                </div>
                <p
                  style="width: 140px;"
                  class="text-center mt-2 ps-2 t-md t-semi-bold text-white"
                >
                  Moderator settings for this idea
                </p>
              </div>
            </div>
            <div
              id="settingsModdersLoad"
              style="height: 335px; overflow-y: scroll;"
              class="custom-scroll col-12 p-3 pt-0"
            >
            </div>
          </div>
          <!---->
          <!--CREATE TOPIC-->
          <div
            id="settingsCreateTopicWindow"
            class="d-none overhide-window-sm bg-darklight"
          >
            <div
              class="border-bottom align-items-center p-2 ps-3 pe-0 col-12 d-flex justify-content-between"
            >
              <span class="t-md text-white t-bold">Settings</span>
              <button
                class="showHideCreateTopic btn btn-sm text-white t-sm t-semi-bold"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="26"
                  height="26"
                  fill="currentColor"
                  class="bi bi-x"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                  />
                </svg>
              </button>
            </div>
            <div class="col-12 ps-3 p-2">
              <div
                class="p-5 d-flex col-12 justify-content-center align-items-center"
              >
                <div class="">
                  <div class="d-flex justify-content-center">
                    <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="44"
                    height="44"
                    fill="currentColor"
                    class="t-muted bi bi-journal-bookmark-fill"
                    viewBox="0 0 16 16"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M6 1h6v7a.5.5 0 0 1-.757.429L9 7.083 6.757 8.43A.5.5 0 0 1 6 8V1z"
                    />
                    <path
                      d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z"
                    />
                    <path
                      d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z"
                    />
                  </svg>
                  <img src="~/media/userAvatars/@User.Claims.Where(x => x.Type.Equals("AvatarImageName")).Select(x => x.Value).SingleOrDefault()" height="44" width="44" class="circle shadow"/>
                  </div>
                  <p style="width:150px;" class="text-center pt-3 ps-2 t-md t-semi-bold text-white">
                    Describe the idea using topics                   
                  </p>                  
                </div>
              </div>
              <div class="pb-3 ps-4 pe-4">
                <form method="post" asp-action="createtopic" asp-controller="idea">
                    <input name="ideaGuid" hidden value="@Model.Idea.Guid"/>
                  <div class="mb-2">
                    <input
                        name="title"
                      class="upd-form-input form-control me-0 pe-1"
                      placeholder="title"
                    />
                  </div>
                  <div class="mb-2">
                    <textarea
                      name="description"
                      style="resize: none; height: 66px;"
                      class="radius-lg upd-form-textarea form-control me-0 pe-1"
                      placeholder="description"
                      aria-label="Search"
                    ></textarea>
                  </div>

                  <div class="border-top pt-3 col-12 text-center">
                      <button type="submit" class=" icon-link-btn">Create topic</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <!---->
          <!--REMOVE-->
          <div
            id="settingsRemoveIdeaWindow"
            class="d-none overhide-window-xsm bg-darklight"
          >
            <div
              class="border-bottom align-items-center p-2 ps-3 pe-0 col-12 d-flex justify-content-between"
            >
              <span class="t-md text-white t-bold">Settings</span>
              <button
                class="showHideRemoveIdea btn btn-sm text-white t-sm t-semi-bold"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="26"
                  height="26"
                  fill="currentColor"
                  class="bi bi-x"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                  />
                </svg>
              </button>
            </div>
            <div class="col-12 ps-3 p-2">
                <div
                class="p-5 d-flex col-12 justify-content-center align-items-center"
              >
                <div class="">
                  <div>
                      <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" fill="currentColor" class="t-muted bi bi-journal-x" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M6.146 6.146a.5.5 0 0 1 .708 0L8 7.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 8l1.147 1.146a.5.5 0 0 1-.708.708L8 8.707 6.854 9.854a.5.5 0 0 1-.708-.708L7.293 8 6.146 6.854a.5.5 0 0 1 0-.708z"/>
                        <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z"/>
                        <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z"/>
                      </svg>
                    <img
                      src="~/media/ideaAvatars/@Model.Idea.AvatarImageName"
                      height="44"
                      width="77"
                      class="ms-1 radius-md shadow"
                    />
                  </div>
                  <p
                    style="width: 140px;"
                    class="text-center mt-2 ps-2 t-md t-semi-bold text-white"
                  >
                    Remove idea with all progress
                  </p>
                </div>
              </div>
              <div class="pb-3 ps-4 pe-4">
                <form asp-action="removeIdea" asp-controller="idea" method="post">
                  <input hidden value="@Model.Idea.Guid" name="ideaGuid"/>
                    <div class="mb-2">
                    <input
                        name="confirmPassword"
                      type="password"
                      class="form-control upd-form-input me-0 pe-1"
                      placeholder="Your password"
                    />
                    <span class="t-sm t-medium t-muted"
                      >Enter password to confirm delete</span
                    >
                  </div>
                  <div class="border-top pt-3 pb-3 col-12 text-center">
                      <button type="submit" class="icon-link-btn text-white bg-danger">Remove</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <!---->
          }
          <!--Create box-->
          <div
          id="createBoxWindow"
          class="d-none overhide-window-sm bg-darklight"
        >
          <div
            class="border-bottom align-items-center p-2 ps-3 pe-0 col-12 d-flex justify-content-between"
          >
            <span class="t-md text-white t-bold">Create box</span>
            <button
              class="showHideCreateBox btn btn-sm text-white t-sm t-semi-bold"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="26"
                height="26"
                fill="currentColor"
                class="bi bi-x"
                viewBox="0 0 16 16"
              >
                <path
                  d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                />
              </svg>
            </button>
          </div>
          <div class="col-12 ps-3 p-2">
            <div
              class="p-4 col-12 d-flex justify-content-center align-items-center"
            >
              <div>
                <div class="d-flex justify-content-center">
                  <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" fill="currentColor" class="t-muted bi bi-box" viewBox="0 0 16 16">
                    <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"/>
                  </svg>                
                <img
                    src="~/media/userAvatars/@User.Claims.Where(x => x.Type.Equals("AvatarImageName")).Select(x => x.Value).SingleOrDefault()"
                    class="ms-1 circle shadow border"
                    height="44"
                    width="44"
                  />
              </div>  
              <p class="pt-3 text-center t-md t-semi-bold text-white">
                Create new goal Box                              
              </p> 
              </div>           
            </div>
            <div class="pb-3 ps-4 pe-4">
              <form id="formCreateBox2" asp-action="createBox" asp-controller="idea" data-idea="@Model.Idea.Guid">
                  <input hidden value="@Model.Idea.Guid" name="ideaGuid"/>
                <div class="mb-2">
                  <input
                    class="upd-form-input form-control me-0 pe-1"
                    placeholder="Title"
                    name="title"
                  />
                </div>
                <div class="mb-2">
                  <textarea
                  name="description"
                    style="resize: none; height: 66px;"
                    class="upd-form-textarea form-control me-0 pe-1"
                    placeholder="Description"
                    aria-label="Search"
                  ></textarea>
                </div>
                <div class="mb-2 mt-3 form-check">
                    <input
                        name="isAuthored"
                      class="bg-dark form-check-input"
                      type="checkbox"
                      value="true"
                      id="flexCheckDefault"
                    />
                    <span>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="22"
                        height="22"
                        fill="currentColor"
                        class="t-muted bi bi-lock"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z"
                        />
                      </svg>
                    </span>
                    <label
                      class="text-white t-md t-semi-bold form-check-label"
                      for="flexCheckDefault"
                    >
                      Authored box
                    </label>
                    <br />
                    <span class="t-sm t-medium t-muted">Only you can edit this box</span>
                  </div>
                <div class="border-top pt-3 col-12 text-center">
                      <button  type="submit" class=" icon-link-btn">Create box</button>
                 </div>
              </form>
            </div>
          </div>
          </div>
        </div>
      </div>
      <div class="col-9">
        <main>
          <div class="col-12">
            <div class="col-12 mt-1 ps-3 pe-3">
              <section>
                <div class="col-12 mb-3">
                  <div
                    style="
                      background: linear-gradient(
                          0deg,
                          rgba(0, 0, 0, 0.33),
                          rgba(0, 0, 0, 0.33)
                        ),
                        url(../media/ideaAvatars/@Model.Idea.AvatarImageName);
                      border-radius: 6px;
                    "
                    class="d-flex align-items-end idea-post bg-light"
                  >
                    <div class="pb-4 ps-4 pe-4 text-break col-12">
                      <div style="margin-bottom: 106px;" class="text-break">
                        <content>
                          <header>
                            <h1 class="mb-0 h1 t-xbold text-white t-shadow">
                              @Model.Idea.Title
                            </h1>
                          </header>
                          <p
                            class="mb-1 col-10 t-semi-bold t-muted t-shadow d-inline-block text-truncate"
                          >
                            Moderate by
                          </p>
                          <div class="d-flex flex-wrap col-10">
                            @foreach(var modder in Model.Idea.Modders)
                            {
                             <div>
                                <a asp-action="@modder.Guid" asp-controller="user">
                                <img
                                    src="~/media/userAvatars/@modder.AvatarImageName"
                                    width="44"
                                    height="44"
                                    class="shadow circle"
                                  />
                                </a>
                            </div>
                            }
                          </div>
                        </content>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
              <!---->
              <nav>
                <div class="pe-2 ps-2 mb-3 mt-3 col-12 d-flex">
                  <a asp-action="@Model.Idea.Guid" asp-controller="idea" class="ideaSectionLink me-3">
                    <span class="pe-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        fill="currentColor"
                        class="t-muted bi bi-info-circle"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
                        />
                        <path
                          d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"
                        />
                      </svg>
                    </span>
                    About
                  </a>
                  <a disabled class=" ideaSectionLink-active ideaSectionLink me-3">
                    <span class="pe-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        fill="currentColor"
                        class="t-muted bi bi-boxes"
                        viewBox="0 0 16 16"
                      >
                        <path
                          fill-rule="evenodd"
                          d="M7.752.066a.5.5 0 0 1 .496 0l3.75 2.143a.5.5 0 0 1 .252.434v3.995l3.498 2A.5.5 0 0 1 16 9.07v4.286a.5.5 0 0 1-.252.434l-3.75 2.143a.5.5 0 0 1-.496 0l-3.502-2-3.502 2.001a.5.5 0 0 1-.496 0l-3.75-2.143A.5.5 0 0 1 0 13.357V9.071a.5.5 0 0 1 .252-.434L3.75 6.638V2.643a.5.5 0 0 1 .252-.434L7.752.066ZM4.25 7.504 1.508 9.071l2.742 1.567 2.742-1.567L4.25 7.504ZM7.5 9.933l-2.75 1.571v3.134l2.75-1.571V9.933Zm1 3.134 2.75 1.571v-3.134L8.5 9.933v3.134Zm.508-3.996 2.742 1.567 2.742-1.567-2.742-1.567-2.742 1.567Zm2.242-2.433V3.504L8.5 5.076V8.21l2.75-1.572ZM7.5 8.21V5.076L4.75 3.504v3.134L7.5 8.21ZM5.258 2.643 8 4.21l2.742-1.567L8 1.076 5.258 2.643ZM15 9.933l-2.75 1.571v3.134L15 13.067V9.933ZM3.75 14.638v-3.134L1 9.933v3.134l2.75 1.571Z"
                        />
                      </svg>
                    </span>
                    Goals
                  </a>
                  <a asp-action="@Model.Idea.Guid" asp-controller="idea" asp-route-section="members" class="ideaSectionLink me-3">
                    <span class="pe-1">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        fill="currentColor"
                        class="t-muted bi bi-people"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"
                        />
                      </svg>
                    </span>
                    Members
                  </a>
                  @if (Model.CurrentUserRole.Equals(IdeaMemberRoleDto.Author))
                  {
                   <a asp-action="@Model.Idea.Guid" asp-controller="idea" asp-route-section="joinings" class="ideaSectionLink me-3">
                    <span class="pe-1">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="t-muted bi bi-send-plus" viewBox="0 0 16 16">
                        <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855a.75.75 0 0 0-.124 1.329l4.995 3.178 1.531 2.406a.5.5 0 0 0 .844-.536L6.637 10.07l7.494-7.494-1.895 4.738a.5.5 0 1 0 .928.372l2.8-7Zm-2.54 1.183L5.93 9.363 1.591 6.602l11.833-4.733Z"/>
                        <path d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm-3.5-2a.5.5 0 0 0-.5.5v1h-1a.5.5 0 0 0 0 1h1v1a.5.5 0 0 0 1 0v-1h1a.5.5 0 0 0 0-1h-1v-1a.5.5 0 0 0-.5-.5Z"/>
                      </svg>
                    </span>
                    Joinings
                  </a>
                    <div class="ms-auto dropdown pt-2">
                    <a
                      id="dropdownMenuLink3"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                      class="dropdown-toggle ideaSectionLink ms-auto"
                    >
                      <span class="pe-1">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="16"
                          height="16"
                          fill="currentColor"
                          class="t-muted bi bi-sliders"
                          viewBox="0 0 16 16"
                        >
                          <path
                            fill-rule="evenodd"
                            d="M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z"
                          />
                        </svg>
                      </span>
                      Settings
                    </a>

                    <ul
                      class="border dropdown-menu p-0 t-sm t-semi-bold"
                      aria-labelledby="dropdownMenuLink3"
                    >
                      <li>
                        <a
                          class="showHideGeneralSettings dropdown-item t-light"
                          href="#"
                          >General settings</a
                        >
                      </li>
                      <li><hr class="p-0 m-0 dropdown-divider t-light" /></li>
                      <li>
                        <a
                            data-idea="@Model.Idea.Guid"
                            id="showSettingsModders"
                          class="dropdown-item t-light"
                          href="#"
                          >Modders & Members</a
                        >
                      </li>
                      <li><hr class="p-0 m-0 dropdown-divider t-light" /></li>
                      <li>
                        <a
                          class="showHideCreateTopic dropdown-item t-light"
                          href="#"
                          >Add new topic</a
                        >
                      </li>
                      <li><hr class="p-0 m-0 dropdown-divider t-light" /></li>
                      <li>
                        <a
                          class="showHideRemoveIdea dropdown-item t-light"
                          href="#"
                          >Remove idea
                          </a>
                      </li>
                    </ul>
                  </div>
                  }                  
                </div>
              </nav> 
              <!---->
              <div class="mt-4 col-12">
                @if (Model.CurrentUserRole < IdeaMemberRoleDto.Viewer)
                {
                   <section>
                      <div
                        class="bg-dark border justify-content-between align-items-center p-3 ps-4 pe-4 radius-lg mb-4 col-12 d-flex"
                      >
                        <div>
                          <h3 class="text-white t-lg t-semi-bold">Create goal box</h3>
                          <p class="mb-0 t-muted t-md">Add idea goals</p>
                        </div>
                        <div>
                          <a class="showHideCreateBox icon-link-btn">Create box</a>
                        </div>
                      </div>
                 </section>
                }
                else
                {
                <section>
                   <div class="bg-dark border justify-content-between align-items-center p-3 ps-4 pe-4 radius-lg mb-4 col-12 d-flex">
                    <div>
                      <h3 class="text-white t-lg t-semi-bold">Join to this idea</h3>
                      <p class="mb-0 t-muted t-md">Leave comments, create topics and goals</p>
                    </div>
                    <div>
                      <svg xmlns="http://www.w3.org/2000/svg" width="33" height="33" fill="currentColor" class="t-muted bi bi-lock-fill" viewBox="0 0 16 16">
                        <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"/>
                      </svg>
                    </div>
                  </div>
                 </section>
                }
                <div class="mb-5 ps-2 col-12">

                    @if (Model.IdeaBoxes.Count < 1) 
                    {
                        <div class="warwin-md border mb-3 bg-darkdeep col-12 radius-md">
                        <div class="text-center">
                          <div class="mb-3">
                            <svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" fill="currentColor" class="t-muted bi bi-boxes" viewBox="0 0 16 16">
                              <path d="M7.752.066a.5.5 0 0 1 .496 0l3.75 2.143a.5.5 0 0 1 .252.434v3.995l3.498 2A.5.5 0 0 1 16 9.07v4.286a.5.5 0 0 1-.252.434l-3.75 2.143a.5.5 0 0 1-.496 0l-3.502-2-3.502 2.001a.5.5 0 0 1-.496 0l-3.75-2.143A.5.5 0 0 1 0 13.357V9.071a.5.5 0 0 1 .252-.434L3.75 6.638V2.643a.5.5 0 0 1 .252-.434L7.752.066ZM4.25 7.504 1.508 9.071l2.742 1.567 2.742-1.567L4.25 7.504ZM7.5 9.933l-2.75 1.571v3.134l2.75-1.571V9.933Zm1 3.134 2.75 1.571v-3.134L8.5 9.933v3.134Zm.508-3.996 2.742 1.567 2.742-1.567-2.742-1.567-2.742 1.567Zm2.242-2.433V3.504L8.5 5.076V8.21l2.75-1.572ZM7.5 8.21V5.076L4.75 3.504v3.134L7.5 8.21ZM5.258 2.643 8 4.21l2.742-1.567L8 1.076 5.258 2.643ZM15 9.933l-2.75 1.571v3.134L15 13.067V9.933ZM3.75 14.638v-3.134L1 9.933v3.134l2.75 1.571Z"/>
                            </svg>
                          </div>
                          <p class="text-muted t-xl t-medium">This idea doesnt have boxes</p>
                        </div>
                      </div>
                  } 
                  else
                  {
                      @foreach(var item in Model.IdeaBoxes)
                      {
                        <section>
                          <div class="ideaTopicLink mb-4 col-12 d-flex">
                        <div class="pt-1">
                          <a asp-action="@item.AuthorGuid" asp-controller="user"
                            ><img
                              src="/media/userAvatars/@item.AuthorAvatarImageName"
                              class="border circle shadow"
                              height="44"
                              width="44"
                          /></a>
                        </div>
                        <div class="ps-3 col">
                           <a onclick="showBoxBtn('@item.Guid')">
                              <div class="col-12 d-flex align-items-center">                        
                                  <h3 class="h3 text-white t-xbold">
                                    <svg
                                      xmlns="http://www.w3.org/2000/svg"
                                      width="22"
                                      height="22"
                                      fill="currentColor"
                                      class="me-2 bi bi-box"
                                      viewBox="0 0 16 16"
                                    >
                                      <path
                                        d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"
                                      />
                                    </svg>
                                    @item.Title
                                    <span class="ps-2 date-publ-span t-medium t-muted t-md">@item.DateCreated</span>
                                  </h3>
                                  
                              </div>
                              <p
                                class="mb-0 col-6 col-xl-8 t-bold t-muted t-shadow d-inline-block text-truncate"
                              >
                                @item.Description
                              </p>
                              <div class="col-12 d-flex align-items-center">
                                <div class="ms-2">
                                  <span class="text-white d-flex t-lg t-semi-bold">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="me-1 t-muted bi bi-boxes" viewBox="0 0 16 16">
                                      <path d="M7.752.066a.5.5 0 0 1 .496 0l3.75 2.143a.5.5 0 0 1 .252.434v3.995l3.498 2A.5.5 0 0 1 16 9.07v4.286a.5.5 0 0 1-.252.434l-3.75 2.143a.5.5 0 0 1-.496 0l-3.502-2-3.502 2.001a.5.5 0 0 1-.496 0l-3.75-2.143A.5.5 0 0 1 0 13.357V9.071a.5.5 0 0 1 .252-.434L3.75 6.638V2.643a.5.5 0 0 1 .252-.434L7.752.066ZM4.25 7.504 1.508 9.071l2.742 1.567 2.742-1.567L4.25 7.504ZM7.5 9.933l-2.75 1.571v3.134l2.75-1.571V9.933Zm1 3.134 2.75 1.571v-3.134L8.5 9.933v3.134Zm.508-3.996 2.742 1.567 2.742-1.567-2.742-1.567-2.742 1.567Zm2.242-2.433V3.504L8.5 5.076V8.21l2.75-1.572ZM7.5 8.21V5.076L4.75 3.504v3.134L7.5 8.21ZM5.258 2.643 8 4.21l2.742-1.567L8 1.076 5.258 2.643ZM15 9.933l-2.75 1.571v3.134L15 13.067V9.933ZM3.75 14.638v-3.134L1 9.933v3.134l2.75 1.571Z"/>
                                    </svg>
                                    @item.GoalsCount
                                  </span>
                                </div>
                                <div class="ms-3 mt-2 col-12 d-flex flex-wrap">
                                  <div class="mb-2 upd-goal-sm goal-complete me-2">
                                    <span>Complete</span>
                                    @item.CountCompleteGoals
                                  </div>
                                  <div class="mb-2 upd-goal-sm goal-waiting me-2">
                                    <span>Wait</span>
                                    @item.CountWaitingGoals
                                  </div>
                                  <div class="mb-2 upd-goal-sm goal-failed me-2">
                                    <span>Failed</span>
                                    @item.CountFailedGoals
                                  </div>
                                </div>
                              </div>
                          </a>
                        </div>
                      </div>
                      </section>
                      }  
                  }                                   
                </div>

                <div class="d-flex">
                @foreach(var pageInfo in Model.Pages)
                {
                    <div class="me-1">
                        @if (pageInfo.IsActive)
                        {
                            <a disabled asp-action="@Model.Idea.Guid" asp-route-section="goals" asp-route-page="@pageInfo.NumberValue" class="disabled btn text-muted t-md t-semi-bold border">
                                @pageInfo.NumberValue
                            </a>
                        }
                        else
                        {
                            <a asp-action="@Model.Idea.Guid" asp-route-section="goals" asp-route-page="@pageInfo.NumberValue" class=" text-white btn t-md t-semi-bold border">
                                @pageInfo.NumberValue
                            </a>                    
                        }
                    </div>
                }                
                </div>

              </div>
            </div>
          </div>
        </main>
      </div>
      <div class="ps-3 pt-4 col position-relative">
        <div class="position-fixed">
          <aside>
            <div class="col-12 pt-2">
              <h3 class="t-lg t-bold t-muted">Status</h3>
              <div class="ps-1 col-12 text-break">
                <span class="t-md t-bold text-white">@Model.Idea.Status.Title</span>
                <p style="width:220px;" class="mb-1 t-md t-medium t-muted">
                  <em>
                    @Model.Idea.Status.Description
                  </em>
                </p>
              </div>
            </div>
            <div class="col-12 pt-2 mt-4">
              <h3 class="t-lg t-bold t-muted">Tags</h3>
              <div class="ps-1 col-12 d-flex flex-wrap">
                @foreach(var tag in Model.Idea.Tags)
                {
                    <div class="t-tag">
                        <span>@tag.Name</span>
                    </div>
                }                
              </div>
            </div>
            <div class="col-12 pt-2 mt-4 mb-4">
              @switch(Model.CurrentUserRole)
              {
                case IdeaMemberRoleDto.Author:
                   <h3 class="t-lg t-bold t-muted">Your role</h3>
                  <div class="ps-1 col-12 text-break">
                    <span class="t-md t-bold text-white">Author</span>
                    <ul class="ps-3 mb-1 t-md t-medium t-muted">
                      <li>Edit boxes and goals</li>
                      <li>Edit member roles</li>
                      <li>Invite members</li>
                      <li>Edit topics</li>
                      <li>Edit goal status</li>
                    </ul>
                  </div>        
                break;

                case IdeaMemberRoleDto.Modder:
                   <h3 class="t-lg t-bold t-muted">Your role</h3>
                  <div class="ps-1 col-12 text-break">
                    <span class="t-md t-bold text-white">Modder</span>
                    <ul class="ps-3 mb-1 t-md t-medium t-muted">
                      <li>Edit boxes and goals</li>
                      <li>Invite members</li>
                      <li>Edit topics</li>
                      <li>Edit goal status</li>
                    </ul>
                  </div>         
                break;

                case IdeaMemberRoleDto.Member:
                   <h3 class="t-lg t-bold t-muted">Your role</h3>
                  <div class="ps-1 col-12 text-break">
                    <span class="t-md t-bold text-white">Member</span>
                    <ul class="ps-3 mb-1 t-md t-medium t-muted">
                      <li>Edit boxes and goals</li>
                      <li>Lead discussions in topics</li>
                      <li>Communicate with other participants</li>
                    </ul>
                  </div>         
                break;

                default:                
                   <h3 class="t-lg t-bold t-muted">Do you wont to help?</h3>
                    <div class="ps-1 pt-2">
                        <a class="showHideJoin icon-link-btn">Join idea</a>
                    </div>         
                break;
              }
            </div>
            <div class="mt-3">
              <hr class="t-muted" />
            </div>
            <div class="col-12 pt-2 mt-3">
              <h3 class="t-lg t-bold t-muted">Similar ideas</h3>
              <div style="max-width: 180px;" class="ps-1 pt-3 d-flex flex-wrap">
                @foreach(var simIdea in Model.SimilarIdeas)
                {
                    <div class="rotate-idea-card-wrap position-relative">
                      <a asp-action="@simIdea.Guid" asp-controller="idea">
                        <div class="shadow position-absolute rotate-idea-card">
                          <img src="~/media/ideaAvatars/@simIdea.AvatarImageName" />
                        </div>
                      </a>
                    </div>
                }
              </div>
            </div>
          </aside>
        </div>
      </div>
    </div>

    @section Scripts {
        <script type="text/javascript" src="~/js/idea/idea.js"></script>
    }